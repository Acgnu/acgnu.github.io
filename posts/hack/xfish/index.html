<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="èƒŒæ™¯ ä½œä¸ºä¸€ä¸ªå®¶å¾’å››å£çš„æ‰“å·¥äºº, åœ¨æŸé±¼ä¸Šè´­ä¹°äºŒæ‰‹çš„é—²ç½®å•†å“ä¾¿æˆäº†æˆ‘å®ç°æ¢¦æƒ³çš„æ·å¾„, ä½†æŸé±¼ç»è¿‡å¤šæ¬¡å‡çº§æ”¹ç‰ˆå·²ç»ç›¸å½“æµæ°“, åœ¨æˆ‘æœç´¢å‡ºæƒ³è¦çš„å•†å“çš„ç»“æœé¡µ, åµŒå…¥è¯†åˆ«åº¦å¾ˆä½çš„å¹¿å‘Š, å¯¼è‡´æˆ‘ç»å¸¸æ‰‹æ»‘ç‚¹é”™, ç„¶åç›´æ¥è·³è½¬å¯åŠ¨æŸå®, æŸå®çš„å¯åŠ¨é€Ÿåº¦åˆæ…¢çš„ä»¤äººå‘æŒ‡, æœ€ç»ˆè¿˜å¾—æŒ‰ä¸‹å¤šæ¬¡è¿”å›æ‰èƒ½å†æ¬¡å›åˆ°æŸé±¼çš„æœç´¢ç»“æœé¡µ, å¿æ— å¯å¿çš„æˆ‘åªèƒ½å¯¹å®ƒåšä¸€äº›ä¸å¯æè¿°çš„äº‹äº†
ç›®æ ‡ ç ´è§£æŸé±¼(ç‰ˆæœ¬: 6.7.40)å¹¶å»é™¤æœç´¢ç»“æœé¡µçš„å¹¿å‘Š, åŒæ—¶å»æ‰æ¯æ¬¡å¯åŠ¨å°±å¼¹çª—çš„æ¼äººçš„æ›´æ–°æç¤º
æŸé±¼çš„æœç´¢ç»“æœé¡µ  æŸé±¼å¹¿å‘Š 
 PS:ä¸€ä¸ªå±å¹•æ€»å…±å°±6ä¸ªå±•ä½, æŸé±¼ä½ è¿™ä¸‰ä¸ªå¹¿å‘Šä½è‰¯å¿ƒä¸ä¼šç—›å—
 å¼€å§‹ç ´è§£ é¦–å…ˆå°è¯•ä½¿ç”¨Androidåç¼–è¯‘å¤§æ€å™¨Jadx, æ‰“å¼€Jadx, ç›´æ¥æŠŠæŸé±¼å®‰è£…åŒ…å³.apkæ–‡ä»¶æ‹–è¿›å», å‘ç°è½¯ä»¶æ²¡æœ‰åŠ å£³, å¯ä»¥çœ‹åˆ°Jadxé¡ºåˆ©åç¼–è¯‘å‡ºäº†æŸé±¼çš„æºç 
 JADX-æºç  
ç›´æ¥æŒ‰ Ctrl + S å°†æºç å…¨éƒ¨ä¿å­˜, ç„¶åå¯¼å…¥IDEA, å¼€å§‹åˆ†æä»£ç 
é¦–å…ˆä»è¾“å…¥æœç´¢ç›®æ ‡å, ç‚¹å‡»æœç´¢çš„æŒ‰é’®å¼€å§‹å…¥æ‰‹
 æœç´¢é¢æ¿ 
åœ¨ä»£ç ä¸­æŸ¥æ‰¾&amp;quot;æœç´¢&amp;quot;å…³é”®å­—, å‘ç°æœ‰å¤šå¤„åŒ¹é…, ç»“åˆæœç´¢é¢æ¿åº•ä¸‹çš„å†å²æœç´¢å¸ƒå±€, æ¨æµ‹è¯¥é¢æ¿çš„å¸ƒå±€æ–‡ä»¶åº”è¯¥æ˜¯search_mid.xml
 é¢æ¿ä»£ç  
æœç´¢å¸ƒå±€æ–‡ä»¶å¼•ç”¨çš„åœ°æ–¹, å‘ç°å…¶åœ¨SearchMidActivityä¸­è¢«ä½¿ç”¨
 å¸ƒå±€ä½¿ç”¨ 
å†æŸ¥çœ‹å¸ƒå±€æ–‡ä»¶ä»£ç , æœç´¢æŒ‰é’®çš„ç»„ä»¶IDä¸ºsearch_button, åœ¨SearchMidActivityä¸­æŸ¥æ‰¾ç›¸å…³å¼•ç”¨
 æœç´¢ç‚¹å‡»1 
 æœç´¢ç‚¹å‡»2 
å¯ä»¥çœ‹å‡ºæŒ‰é’®ç‚¹å‡»å, é¦–å…ˆä¼šè°ƒç”¨searchKeyAction, å†ç»è¿‡å±‚å±‚è°ƒç”¨æœ€ååˆ°è¾¾searchNormal, ä¹‹åå°±ä¼šé€šè¿‡ gotoResultActivity è·³è½¬åˆ°ç»“æœé¡µ, ç»§ç»­è·Ÿè¸ªgotoResultActivityæ–¹æ³•"><title>æŸé±¼APPç ´è§£å»å¹¿å‘Š</title><link rel=canonical href=https://example.com/posts/hack/xfish/><link rel=stylesheet href=/scss/style.min.css><meta property="og:title" content="æŸé±¼APPç ´è§£å»å¹¿å‘Š"><meta property="og:description" content="èƒŒæ™¯ ä½œä¸ºä¸€ä¸ªå®¶å¾’å››å£çš„æ‰“å·¥äºº, åœ¨æŸé±¼ä¸Šè´­ä¹°äºŒæ‰‹çš„é—²ç½®å•†å“ä¾¿æˆäº†æˆ‘å®ç°æ¢¦æƒ³çš„æ·å¾„, ä½†æŸé±¼ç»è¿‡å¤šæ¬¡å‡çº§æ”¹ç‰ˆå·²ç»ç›¸å½“æµæ°“, åœ¨æˆ‘æœç´¢å‡ºæƒ³è¦çš„å•†å“çš„ç»“æœé¡µ, åµŒå…¥è¯†åˆ«åº¦å¾ˆä½çš„å¹¿å‘Š, å¯¼è‡´æˆ‘ç»å¸¸æ‰‹æ»‘ç‚¹é”™, ç„¶åç›´æ¥è·³è½¬å¯åŠ¨æŸå®, æŸå®çš„å¯åŠ¨é€Ÿåº¦åˆæ…¢çš„ä»¤äººå‘æŒ‡, æœ€ç»ˆè¿˜å¾—æŒ‰ä¸‹å¤šæ¬¡è¿”å›æ‰èƒ½å†æ¬¡å›åˆ°æŸé±¼çš„æœç´¢ç»“æœé¡µ, å¿æ— å¯å¿çš„æˆ‘åªèƒ½å¯¹å®ƒåšä¸€äº›ä¸å¯æè¿°çš„äº‹äº†
ç›®æ ‡ ç ´è§£æŸé±¼(ç‰ˆæœ¬: 6.7.40)å¹¶å»é™¤æœç´¢ç»“æœé¡µçš„å¹¿å‘Š, åŒæ—¶å»æ‰æ¯æ¬¡å¯åŠ¨å°±å¼¹çª—çš„æ¼äººçš„æ›´æ–°æç¤º
æŸé±¼çš„æœç´¢ç»“æœé¡µ  æŸé±¼å¹¿å‘Š 
 PS:ä¸€ä¸ªå±å¹•æ€»å…±å°±6ä¸ªå±•ä½, æŸé±¼ä½ è¿™ä¸‰ä¸ªå¹¿å‘Šä½è‰¯å¿ƒä¸ä¼šç—›å—
 å¼€å§‹ç ´è§£ é¦–å…ˆå°è¯•ä½¿ç”¨Androidåç¼–è¯‘å¤§æ€å™¨Jadx, æ‰“å¼€Jadx, ç›´æ¥æŠŠæŸé±¼å®‰è£…åŒ…å³.apkæ–‡ä»¶æ‹–è¿›å», å‘ç°è½¯ä»¶æ²¡æœ‰åŠ å£³, å¯ä»¥çœ‹åˆ°Jadxé¡ºåˆ©åç¼–è¯‘å‡ºäº†æŸé±¼çš„æºç 
 JADX-æºç  
ç›´æ¥æŒ‰ Ctrl + S å°†æºç å…¨éƒ¨ä¿å­˜, ç„¶åå¯¼å…¥IDEA, å¼€å§‹åˆ†æä»£ç 
é¦–å…ˆä»è¾“å…¥æœç´¢ç›®æ ‡å, ç‚¹å‡»æœç´¢çš„æŒ‰é’®å¼€å§‹å…¥æ‰‹
 æœç´¢é¢æ¿ 
åœ¨ä»£ç ä¸­æŸ¥æ‰¾&amp;quot;æœç´¢&amp;quot;å…³é”®å­—, å‘ç°æœ‰å¤šå¤„åŒ¹é…, ç»“åˆæœç´¢é¢æ¿åº•ä¸‹çš„å†å²æœç´¢å¸ƒå±€, æ¨æµ‹è¯¥é¢æ¿çš„å¸ƒå±€æ–‡ä»¶åº”è¯¥æ˜¯search_mid.xml
 é¢æ¿ä»£ç  
æœç´¢å¸ƒå±€æ–‡ä»¶å¼•ç”¨çš„åœ°æ–¹, å‘ç°å…¶åœ¨SearchMidActivityä¸­è¢«ä½¿ç”¨
 å¸ƒå±€ä½¿ç”¨ 
å†æŸ¥çœ‹å¸ƒå±€æ–‡ä»¶ä»£ç , æœç´¢æŒ‰é’®çš„ç»„ä»¶IDä¸ºsearch_button, åœ¨SearchMidActivityä¸­æŸ¥æ‰¾ç›¸å…³å¼•ç”¨
 æœç´¢ç‚¹å‡»1 
 æœç´¢ç‚¹å‡»2 
å¯ä»¥çœ‹å‡ºæŒ‰é’®ç‚¹å‡»å, é¦–å…ˆä¼šè°ƒç”¨searchKeyAction, å†ç»è¿‡å±‚å±‚è°ƒç”¨æœ€ååˆ°è¾¾searchNormal, ä¹‹åå°±ä¼šé€šè¿‡ gotoResultActivity è·³è½¬åˆ°ç»“æœé¡µ, ç»§ç»­è·Ÿè¸ªgotoResultActivityæ–¹æ³•"><meta property="og:url" content="https://example.com/posts/hack/xfish/"><meta property="og:site_name" content="Acgnu+"><meta property="og:type" content="article"><meta property="article:section" content="Posts"><meta property="article:tag" content="Hack"><meta property="article:tag" content="Android"><meta property="article:tag" content="Xposed"><meta property="article:published_time" content="2021-06-08T00:50:44+08:00"><meta property="article:modified_time" content="2021-06-08T00:50:44+08:00"><meta property="og:image" content="https://example.com/posts/hack/xfish/cover.png"><meta name=twitter:title content="æŸé±¼APPç ´è§£å»å¹¿å‘Š"><meta name=twitter:description content="èƒŒæ™¯ ä½œä¸ºä¸€ä¸ªå®¶å¾’å››å£çš„æ‰“å·¥äºº, åœ¨æŸé±¼ä¸Šè´­ä¹°äºŒæ‰‹çš„é—²ç½®å•†å“ä¾¿æˆäº†æˆ‘å®ç°æ¢¦æƒ³çš„æ·å¾„, ä½†æŸé±¼ç»è¿‡å¤šæ¬¡å‡çº§æ”¹ç‰ˆå·²ç»ç›¸å½“æµæ°“, åœ¨æˆ‘æœç´¢å‡ºæƒ³è¦çš„å•†å“çš„ç»“æœé¡µ, åµŒå…¥è¯†åˆ«åº¦å¾ˆä½çš„å¹¿å‘Š, å¯¼è‡´æˆ‘ç»å¸¸æ‰‹æ»‘ç‚¹é”™, ç„¶åç›´æ¥è·³è½¬å¯åŠ¨æŸå®, æŸå®çš„å¯åŠ¨é€Ÿåº¦åˆæ…¢çš„ä»¤äººå‘æŒ‡, æœ€ç»ˆè¿˜å¾—æŒ‰ä¸‹å¤šæ¬¡è¿”å›æ‰èƒ½å†æ¬¡å›åˆ°æŸé±¼çš„æœç´¢ç»“æœé¡µ, å¿æ— å¯å¿çš„æˆ‘åªèƒ½å¯¹å®ƒåšä¸€äº›ä¸å¯æè¿°çš„äº‹äº†
ç›®æ ‡ ç ´è§£æŸé±¼(ç‰ˆæœ¬: 6.7.40)å¹¶å»é™¤æœç´¢ç»“æœé¡µçš„å¹¿å‘Š, åŒæ—¶å»æ‰æ¯æ¬¡å¯åŠ¨å°±å¼¹çª—çš„æ¼äººçš„æ›´æ–°æç¤º
æŸé±¼çš„æœç´¢ç»“æœé¡µ  æŸé±¼å¹¿å‘Š 
 PS:ä¸€ä¸ªå±å¹•æ€»å…±å°±6ä¸ªå±•ä½, æŸé±¼ä½ è¿™ä¸‰ä¸ªå¹¿å‘Šä½è‰¯å¿ƒä¸ä¼šç—›å—
 å¼€å§‹ç ´è§£ é¦–å…ˆå°è¯•ä½¿ç”¨Androidåç¼–è¯‘å¤§æ€å™¨Jadx, æ‰“å¼€Jadx, ç›´æ¥æŠŠæŸé±¼å®‰è£…åŒ…å³.apkæ–‡ä»¶æ‹–è¿›å», å‘ç°è½¯ä»¶æ²¡æœ‰åŠ å£³, å¯ä»¥çœ‹åˆ°Jadxé¡ºåˆ©åç¼–è¯‘å‡ºäº†æŸé±¼çš„æºç 
 JADX-æºç  
ç›´æ¥æŒ‰ Ctrl + S å°†æºç å…¨éƒ¨ä¿å­˜, ç„¶åå¯¼å…¥IDEA, å¼€å§‹åˆ†æä»£ç 
é¦–å…ˆä»è¾“å…¥æœç´¢ç›®æ ‡å, ç‚¹å‡»æœç´¢çš„æŒ‰é’®å¼€å§‹å…¥æ‰‹
 æœç´¢é¢æ¿ 
åœ¨ä»£ç ä¸­æŸ¥æ‰¾&amp;quot;æœç´¢&amp;quot;å…³é”®å­—, å‘ç°æœ‰å¤šå¤„åŒ¹é…, ç»“åˆæœç´¢é¢æ¿åº•ä¸‹çš„å†å²æœç´¢å¸ƒå±€, æ¨æµ‹è¯¥é¢æ¿çš„å¸ƒå±€æ–‡ä»¶åº”è¯¥æ˜¯search_mid.xml
 é¢æ¿ä»£ç  
æœç´¢å¸ƒå±€æ–‡ä»¶å¼•ç”¨çš„åœ°æ–¹, å‘ç°å…¶åœ¨SearchMidActivityä¸­è¢«ä½¿ç”¨
 å¸ƒå±€ä½¿ç”¨ 
å†æŸ¥çœ‹å¸ƒå±€æ–‡ä»¶ä»£ç , æœç´¢æŒ‰é’®çš„ç»„ä»¶IDä¸ºsearch_button, åœ¨SearchMidActivityä¸­æŸ¥æ‰¾ç›¸å…³å¼•ç”¨
 æœç´¢ç‚¹å‡»1 
 æœç´¢ç‚¹å‡»2 
å¯ä»¥çœ‹å‡ºæŒ‰é’®ç‚¹å‡»å, é¦–å…ˆä¼šè°ƒç”¨searchKeyAction, å†ç»è¿‡å±‚å±‚è°ƒç”¨æœ€ååˆ°è¾¾searchNormal, ä¹‹åå°±ä¼šé€šè¿‡ gotoResultActivity è·³è½¬åˆ°ç»“æœé¡µ, ç»§ç»­è·Ÿè¸ªgotoResultActivityæ–¹æ³•"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://example.com/posts/hack/xfish/cover.png"><link rel="shortcut icon" href=/favicon.ico></head><body class="article-page keep-sidebar"><script>(function(){const colorSchemeKey='StackColorScheme';if(!localStorage.getItem(colorSchemeKey)){localStorage.setItem(colorSchemeKey,"auto");}})();</script><script>(function(){const colorSchemeKey='StackColorScheme';const colorSchemeItem=localStorage.getItem(colorSchemeKey);const supportDarkMode=window.matchMedia('(prefers-color-scheme: dark)').matches===true;if(colorSchemeItem=='dark'||colorSchemeItem==='auto'&&supportDarkMode){document.body.dataset.scheme='dark';}else{document.body.dataset.scheme='light';}})();</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header class=site-info><figure class=site-avatar><img src=/img/avatar_hu3a9833e4ebdcf9e444b7caf140fa72b8_113624_300x0_resize_q75_box.jpg width=300 height=300 class=site-logo loading=lazy alt=Avatar>
<span class=emoji>ğŸ˜</span></figure><h1 class=site-name><a href=https://example.com>Acgnu+</a></h1><h2 class=site-description>æ™‚é–“ã¯ã„ã¤ã‚‚è¶³ã‚Šãªã„</h2></header><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>Home</span></a></li><li><a href=about><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>About</span></a></li><li><a href=archives><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>Archives</span></a></li><li><a href=search><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>Search</span></a></li><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>Dark Mode</span></li></ol></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/posts/hack/xfish/><img src=/posts/hack/xfish/cover_hu6805bb858ef8d6e39da1ca045c198567_262554_800x0_resize_box_2.png srcset="/posts/hack/xfish/cover_hu6805bb858ef8d6e39da1ca045c198567_262554_800x0_resize_box_2.png 800w, /posts/hack/xfish/cover_hu6805bb858ef8d6e39da1ca045c198567_262554_1600x0_resize_box_2.png 1600w" width=800 height=476 loading=lazy alt="Featured image of post æŸé±¼APPç ´è§£å»å¹¿å‘Š"></a></div><div class=article-details><header class=article-category><a href=/categories/hack/>Hack</a></header><h2 class=article-title><a href=/posts/hack/xfish/>æŸé±¼APPç ´è§£å»å¹¿å‘Š</a></h2><footer class=article-time><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--published>Jun 08, 2021</time></footer></div></header><section class=article-content><h2 id=èƒŒæ™¯>èƒŒæ™¯</h2><p>ä½œä¸ºä¸€ä¸ªå®¶å¾’å››å£çš„æ‰“å·¥äºº, åœ¨æŸé±¼ä¸Šè´­ä¹°äºŒæ‰‹çš„é—²ç½®å•†å“ä¾¿æˆäº†æˆ‘å®ç°æ¢¦æƒ³çš„æ·å¾„, ä½†æŸé±¼ç»è¿‡å¤šæ¬¡å‡çº§æ”¹ç‰ˆå·²ç»ç›¸å½“æµæ°“, åœ¨æˆ‘æœç´¢å‡ºæƒ³è¦çš„å•†å“çš„ç»“æœé¡µ, åµŒå…¥è¯†åˆ«åº¦å¾ˆä½çš„å¹¿å‘Š, å¯¼è‡´æˆ‘ç»å¸¸æ‰‹æ»‘ç‚¹é”™, ç„¶åç›´æ¥è·³è½¬å¯åŠ¨æŸå®, æŸå®çš„å¯åŠ¨é€Ÿåº¦åˆæ…¢çš„ä»¤äººå‘æŒ‡, æœ€ç»ˆè¿˜å¾—æŒ‰ä¸‹å¤šæ¬¡è¿”å›æ‰èƒ½å†æ¬¡å›åˆ°æŸé±¼çš„æœç´¢ç»“æœé¡µ, å¿æ— å¯å¿çš„æˆ‘åªèƒ½å¯¹å®ƒåšä¸€äº›ä¸å¯æè¿°çš„äº‹äº†</p><h2 id=ç›®æ ‡>ç›®æ ‡</h2><p>ç ´è§£æŸé±¼(ç‰ˆæœ¬: 6.7.40)å¹¶å»é™¤æœç´¢ç»“æœé¡µçš„å¹¿å‘Š, åŒæ—¶å»æ‰æ¯æ¬¡å¯åŠ¨å°±å¼¹çª—çš„æ¼äººçš„æ›´æ–°æç¤º</p><h2 id=æŸé±¼çš„æœç´¢ç»“æœé¡µ>æŸé±¼çš„æœç´¢ç»“æœé¡µ</h2><p><figure style=flex-grow:56;flex-basis:134px><a href=/posts/hack/xfish/adpage.jpg data-size=540x961><img src=/posts/hack/xfish/adpage.jpg srcset="/posts/hack/xfish/adpage_hu1ba7e09bc24973772dcedd1129f840e8_86307_480x0_resize_q75_box.jpg 480w, /posts/hack/xfish/adpage_hu1ba7e09bc24973772dcedd1129f840e8_86307_1024x0_resize_q75_box.jpg 1024w" width=540 height=961 loading=lazy alt=æŸé±¼å¹¿å‘Š></a><figcaption>æŸé±¼å¹¿å‘Š</figcaption></figure></p><blockquote><p>PS:ä¸€ä¸ªå±å¹•æ€»å…±å°±6ä¸ªå±•ä½, æŸé±¼ä½ è¿™ä¸‰ä¸ªå¹¿å‘Šä½è‰¯å¿ƒä¸ä¼šç—›å—</p></blockquote><h2 id=å¼€å§‹ç ´è§£>å¼€å§‹ç ´è§£</h2><p>é¦–å…ˆå°è¯•ä½¿ç”¨Androidåç¼–è¯‘å¤§æ€å™¨<a class=link href=https://github.com/skylot/jadx target=_blank rel=noopener>Jadx</a>, æ‰“å¼€<code>Jadx</code>, ç›´æ¥æŠŠæŸé±¼å®‰è£…åŒ…å³<code>.apk</code>æ–‡ä»¶æ‹–è¿›å», å‘ç°è½¯ä»¶æ²¡æœ‰åŠ å£³, å¯ä»¥çœ‹åˆ°<code>Jadx</code>é¡ºåˆ©åç¼–è¯‘å‡ºäº†æŸé±¼çš„æºç </p><p><figure style=flex-grow:139;flex-basis:334px><a href=/posts/hack/xfish/jadx_source.jpg data-size=1173x842><img src=/posts/hack/xfish/jadx_source.jpg srcset="/posts/hack/xfish/jadx_source_hud0af3715194ff4882a261e5347d833be_127929_480x0_resize_q75_box.jpg 480w, /posts/hack/xfish/jadx_source_hud0af3715194ff4882a261e5347d833be_127929_1024x0_resize_q75_box.jpg 1024w" width=1173 height=842 loading=lazy alt=JADX-æºç ></a><figcaption>JADX-æºç </figcaption></figure></p><p>ç›´æ¥æŒ‰ <code>Ctrl + S</code> å°†æºç å…¨éƒ¨ä¿å­˜, ç„¶åå¯¼å…¥<code>IDEA</code>, å¼€å§‹åˆ†æä»£ç </p><p><strong>é¦–å…ˆä»è¾“å…¥æœç´¢ç›®æ ‡å, ç‚¹å‡»æœç´¢çš„æŒ‰é’®å¼€å§‹å…¥æ‰‹</strong></p><p><figure style=flex-grow:249;flex-basis:599px><a href=/posts/hack/xfish/search.jpg data-size=537x215><img src=/posts/hack/xfish/search.jpg srcset="/posts/hack/xfish/search_hubb017e4f37f205bfbcd52d21910b75ab_11320_480x0_resize_q75_box.jpg 480w, /posts/hack/xfish/search_hubb017e4f37f205bfbcd52d21910b75ab_11320_1024x0_resize_q75_box.jpg 1024w" width=537 height=215 loading=lazy alt=æœç´¢é¢æ¿></a><figcaption>æœç´¢é¢æ¿</figcaption></figure></p><p>åœ¨ä»£ç ä¸­æŸ¥æ‰¾"æœç´¢"å…³é”®å­—, å‘ç°æœ‰å¤šå¤„åŒ¹é…, ç»“åˆæœç´¢é¢æ¿åº•ä¸‹çš„å†å²æœç´¢å¸ƒå±€, æ¨æµ‹è¯¥é¢æ¿çš„å¸ƒå±€æ–‡ä»¶åº”è¯¥æ˜¯<code>search_mid.xml</code></p><p><figure style=flex-grow:212;flex-basis:510px><a href=/posts/hack/xfish/searchlayout.jpg data-size=1078x507><img src=/posts/hack/xfish/searchlayout.jpg srcset="/posts/hack/xfish/searchlayout_hu165f087e67dd8c3f20528ecb83d1223f_83048_480x0_resize_q75_box.jpg 480w, /posts/hack/xfish/searchlayout_hu165f087e67dd8c3f20528ecb83d1223f_83048_1024x0_resize_q75_box.jpg 1024w" width=1078 height=507 loading=lazy alt=é¢æ¿ä»£ç ></a><figcaption>é¢æ¿ä»£ç </figcaption></figure></p><p>æœç´¢å¸ƒå±€æ–‡ä»¶å¼•ç”¨çš„åœ°æ–¹, å‘ç°å…¶åœ¨<code>SearchMidActivity</code>ä¸­è¢«ä½¿ç”¨</p><p><figure style=flex-grow:342;flex-basis:821px><a href=/posts/hack/xfish/uselayout.jpg data-size=606x177><img src=/posts/hack/xfish/uselayout.jpg srcset="/posts/hack/xfish/uselayout_huf0a2434a3d7d0179055128c7c7a27089_13700_480x0_resize_q75_box.jpg 480w, /posts/hack/xfish/uselayout_huf0a2434a3d7d0179055128c7c7a27089_13700_1024x0_resize_q75_box.jpg 1024w" width=606 height=177 loading=lazy alt=å¸ƒå±€ä½¿ç”¨></a><figcaption>å¸ƒå±€ä½¿ç”¨</figcaption></figure></p><p>å†æŸ¥çœ‹å¸ƒå±€æ–‡ä»¶ä»£ç , æœç´¢æŒ‰é’®çš„ç»„ä»¶IDä¸º<code>search_button</code>, åœ¨<code>SearchMidActivity</code>ä¸­æŸ¥æ‰¾ç›¸å…³å¼•ç”¨</p><p><figure style=flex-grow:316;flex-basis:758px><a href=/posts/hack/xfish/searchbtn1.jpg data-size=351x111><img src=/posts/hack/xfish/searchbtn1.jpg srcset="/posts/hack/xfish/searchbtn1_hud7caf3cc5e731a5a19c2db74ba6f7cd8_6010_480x0_resize_q75_box.jpg 480w, /posts/hack/xfish/searchbtn1_hud7caf3cc5e731a5a19c2db74ba6f7cd8_6010_1024x0_resize_q75_box.jpg 1024w" width=351 height=111 loading=lazy alt=æœç´¢ç‚¹å‡»1></a><figcaption>æœç´¢ç‚¹å‡»1</figcaption></figure></p><p><figure style=flex-grow:277;flex-basis:667px><a href=/posts/hack/xfish/searchbtn2.jpg data-size=795x286><img src=/posts/hack/xfish/searchbtn2.jpg srcset="/posts/hack/xfish/searchbtn2_hu43e90636119c85769bcd2cb8b226da7a_24664_480x0_resize_q75_box.jpg 480w, /posts/hack/xfish/searchbtn2_hu43e90636119c85769bcd2cb8b226da7a_24664_1024x0_resize_q75_box.jpg 1024w" width=795 height=286 loading=lazy alt=æœç´¢ç‚¹å‡»2></a><figcaption>æœç´¢ç‚¹å‡»2</figcaption></figure></p><p>å¯ä»¥çœ‹å‡ºæŒ‰é’®ç‚¹å‡»å, é¦–å…ˆä¼šè°ƒç”¨<code>searchKeyAction</code>, å†ç»è¿‡å±‚å±‚è°ƒç”¨æœ€ååˆ°è¾¾<code>searchNormal</code>, ä¹‹åå°±ä¼šé€šè¿‡ <code>gotoResultActivity</code> è·³è½¬åˆ°ç»“æœé¡µ, ç»§ç»­è·Ÿè¸ª<code>gotoResultActivity</code>æ–¹æ³•</p><p><figure style=flex-grow:700;flex-basis:1680px><a href=/posts/hack/xfish/searchbtn3.jpg data-size=525x75><img src=/posts/hack/xfish/searchbtn3.jpg srcset="/posts/hack/xfish/searchbtn3_hu5fb2147c87591b6c85c08e2046a0c2df_6451_480x0_resize_q75_box.jpg 480w, /posts/hack/xfish/searchbtn3_hu5fb2147c87591b6c85c08e2046a0c2df_6451_1024x0_resize_q75_box.jpg 1024w" width=525 height=75 loading=lazy alt=æœç´¢ç‚¹å‡»3></a><figcaption>æœç´¢ç‚¹å‡»3</figcaption></figure></p><p>æ­¤å¤„å‡ºç°<code>searchresult</code>å­—ç¬¦, æœç´¢è¿™ä¸ªå­—ç¬¦</p><p><figure style=flex-grow:469;flex-basis:1127px><a href=/posts/hack/xfish/searchbtn4.jpg data-size=780x166><img src=/posts/hack/xfish/searchbtn4.jpg srcset="/posts/hack/xfish/searchbtn4_hu3064fae03e259149ff91124b7637e5f8_29435_480x0_resize_q75_box.jpg 480w, /posts/hack/xfish/searchbtn4_hu3064fae03e259149ff91124b7637e5f8_29435_1024x0_resize_q75_box.jpg 1024w" width=780 height=166 loading=lazy alt=æœç´¢ç‚¹å‡»4></a><figcaption>æœç´¢ç‚¹å‡»4</figcaption></figure></p><p>å¯ä»¥çœ‹å‡ºè¿™ä¸ªå­—ç¬¦ä¸²å¯¹åº”çš„é¡µé¢åº”è¯¥æ˜¯ <code>SearchResultActivity</code>, æ‰“å¼€è¿™ä¸ªç±»ä¹‹åä¸€çœ¼çœ‹ä¸å‡ºä»€ä¹ˆé‡è¦çš„ä¸œè¥¿, ç„¶åçº¿ç´¢å°±è¿™ä¹ˆä¸­æ–­äº†</p><p>çº¿ç´¢ä¸­æ–­ä¹‹å, å¯ä»¥ç”¨<code>Xposed</code>å¯¹æŸäº›å¯ç–‘æ–¹æ³•<code>Hook</code>, ç„¶åé€šè¿‡æ‰“å°è°ƒç”¨å †æ ˆçš„æ–¹æ³•, ç»§ç»­åˆ†æ, æ¯”å¦‚æ­¤æˆ‘æ‰¾åˆ°çš„<code>SearchResultInterrupter</code>ä¸­çš„<code>checkInterrupt</code>æ–¹æ³•</p><blockquote><p><code>Xposed</code>æ˜¯ä¸€æ¬¾<code>Android</code>åº•å±‚çš„æ¡†æ¶, èƒ½å¤Ÿä»è™šæ‹Ÿæœºå±‚æ‹¦æˆªç³»ç»Ÿæ‰€æœ‰æ‰§è¡Œä»£ç , è€Œ<code>Xposed</code>æ¨¡å—æ˜¯ä½¿ç”¨<code>Xposed</code>æä¾›çš„<code>SDK</code>æ‰€å¼€å‘çš„<code>Android</code>åº”ç”¨, èƒ½å¤Ÿå€ŸåŠ©<code>Xposed</code>å®ç°å¯¹æ‰€æœ‰å…³å¿ƒä»£ç çš„æ‹¦æˆª, è¯¦æƒ…è¯·æˆ³<a class=link href=https://repo.xposed.info/ target=_blank rel=noopener>Xposedå®˜ç½‘</a></p></blockquote><pre><code>Throwable ex = new Throwable();
StackTraceElement[] stackElements = ex.getStackTrace();
if (stackElements != null) {
    MyLog.log(&quot;è°ƒç”¨å †æ ˆ:--------------------&quot;, true);
    for (int i = 0; i &lt; stackElements.length; i++) {
    MyLog.log(stackElements[i].getClassName() + &quot; -&gt; &quot; +
            stackElements[i].getMethodName() + &quot;()&quot;
        , true);
    }
}
</code></pre><p>ä¸è¿‡è¿™æ ·æ¯”è¾ƒéº»çƒ¦è€Œä¸”ä¹Ÿä¸å¥½æ‰¾. äºæ˜¯æ¢ä¸ªæ€è·¯, å®‰è£…<code>Xposed</code>æ¨¡å—<a class=link href=https://github.com/Palatis/XAppDebug target=_blank rel=noopener>XAppDebug</a>, ä¸ºæŸé±¼å¼ºåˆ¶å¼€å¯<code>Debug</code>æ¨¡å¼, æ­¤æ—¶æŸ¥çœ‹æ§åˆ¶å°ä¼šæ˜¾ç¤ºæ‰€æœ‰æŸé±¼æ‰“å°çš„æ—¥å¿—ä¿¡æ¯, ç°åœ¨æ§åˆ¶å°æ˜¾ç¤ºäº†åŒ…æ‹¬ç½‘ç»œè¯·æ±‚åœ¨å†…çš„æ—¥å¿—ä¿¡æ¯</p><p><figure style=flex-grow:379;flex-basis:911px><a href=/posts/hack/xfish/motp.jpg data-size=1136x299><img src=/posts/hack/xfish/motp.jpg srcset="/posts/hack/xfish/motp_hu728bdb3602c9c0a190a3b046fde1f8dd_69023_480x0_resize_q75_box.jpg 480w, /posts/hack/xfish/motp_hu728bdb3602c9c0a190a3b046fde1f8dd_69023_1024x0_resize_q75_box.jpg 1024w" width=1136 height=299 loading=lazy alt=MTOP></a><figcaption>MTOP</figcaption></figure></p><p>æœ€ç»ˆæ‰¾åˆ°å¯ç–‘ç±»<code>MtopResponse</code>, åˆ†æä»£ç å¯ä»¥æ¨æµ‹è¿™ä¸ªç±»åº”è¯¥æ˜¯ä¸€ä¸ªå°è£…äº†ç½‘ç»œå“åº”çš„ç±», å…¶æˆå‘˜å˜é‡<code>bytedata</code>æ˜¯ä¸»è¦æ•°æ®æº, <code>bytedata</code>å°†ä¼šè¢«è½¬æ¢æˆ<code>dataJsonObject</code>çš„<code>JSON</code>å¯¹è±¡å‚¨å­˜, ç„¶åè¢«ä½¿ç”¨, å› æ­¤æ‰¾åˆ°<code>bytedata</code>èµ‹å€¼çš„æ–¹æ³•<code>setBytedata</code></p><p><figure style=flex-grow:287;flex-basis:691px><a href=/posts/hack/xfish/rep.jpg data-size=478x166><img src=/posts/hack/xfish/rep.jpg srcset="/posts/hack/xfish/rep_huaa9da268be2d331c855d2c964a90ed3f_10820_480x0_resize_q75_box.jpg 480w, /posts/hack/xfish/rep_huaa9da268be2d331c855d2c964a90ed3f_10820_1024x0_resize_q75_box.jpg 1024w" width=478 height=166 loading=lazy alt=å“åº”æ¨¡å‹></a><figcaption>å“åº”æ¨¡å‹</figcaption></figure></p><blockquote><p>ç ´è§£æ—¶é—´äº2020å¹´8æœˆ, æ–‡ç« ç¼–è¾‘æ—¶é—´ä¸º2021å¹´6æœˆ, æˆ‘ä¹Ÿä¸è®°å¾—å½“åˆæ˜¯ä¸æ˜¯è¿™æ ·æ‰¾åˆ°<code>MtopResponse</code>ç±»çš„, æ²¡æœ‰è®°å½•ä¸‹æ¥æ˜¯æˆ‘çš„å¤±è¯¯ä¹Ÿæ˜¯æˆ‘çš„æŸå¤±, ç°åœ¨èƒ½æ‰¾åˆ°è¿™ä¸ªç±»æ˜¯å› ä¸ºå½“æ—¶å¼€å‘<code>Xposed</code>æ¨¡å—ä¸­çš„ä»£ç æœ‰è¿™ä¸€æ®µ. å¦‚æœæŸå¤©æˆ‘çªç„¶æƒ³èµ·æ¥äº†æˆ–è€…æœ‰å…´è‡´èŠ±æ—¶é—´é‡æ–°æ‰¾çš„è¯, ä¼šå›æ¥è¡¥å……çš„</p></blockquote><p>ä½¿ç”¨<code>Xposed</code>æ‹¦æˆªæ­¤å‡½æ•°, å¹¶æ‰“å°å…¥å‚</p><pre><code>findAndHookMethod(&quot;mtopsdk.mtop.domain.MtopResponse&quot;, loadPackageParam.classLoader,
        &quot;setBytedata&quot;,
        byte[].class,
    new XC_MethodHook() {
        @Override
        protected void beforeHookedMethod(MethodHookParam param) throws Throwable {
            String content = new String((byte[]) param.args[0]);
            MyLog.log(content);
        }
    });
</code></pre><p>å¾—åˆ°å…¥å‚æˆªå–å¦‚ä¸‹</p><pre><code>&quot;data&quot;: {
    &quot;item&quot;: {
        ...
        &quot;main&quot;: {
            &quot;clickParam&quot;: {
                &quot;arg1&quot;: &quot;Item&quot;,
                &quot;args&quot;: {
                    ...
                    &quot;tagname&quot;: &quot;å…¨æ–°\/æå¥½\/298äººæƒ³è¦&quot;,
                    &quot;wantNum&quot;: &quot;298&quot;,
                    &quot;id&quot;: &quot;619312410203&quot;,
                    &quot;tag&quot;: &quot;new\/credit-6\/wantnum-298&quot;,
                    &quot;scm&quot;: &quot;1007.32845.224895.0&quot;,
                    &quot;publishTime&quot;: &quot;1590461455000&quot;,
                    &quot;i2i&quot;: &quot;ç›¸ä¼¼&quot;,
                    &quot;search_tab_from&quot;: null,
                    &quot;item_id&quot;: &quot;619312410203&quot;,
                    &quot;biz_type&quot;: &quot;item&quot;,             //ç ´è§£é‡ç‚¹
                    &quot;q&quot;: &quot;10700k&quot;,
                    ...
                },
                &quot;page&quot;: &quot;Page_xySearchResult&quot;
            },
            ...
        }
    }
    ...
}
...
</code></pre><p>æ­¤å¤„æˆªå–äº†ä¸€æ¡è®°å½•å±•ç¤º, å®é™…æ‹¦æˆªåˆ°çš„å‚æ•°ä¸­æ˜¯ä¸€ä¸ªæ•°ç»„, åŒ…å«æœ¬æ¬¡ç»“æœé¡µçš„æ‰€æœ‰å•†å“, å…¶ä¸­å°±åŒ…æ‹¬äº†æœç´¢çš„å•†å“, å¹¿å‘Šå•†å“, æ¨èå•†å“ç­‰, é€šè¿‡å¯¹æ¯”å‘ç°, <strong>æœç´¢çš„å•†å“æ•°æ®åœ¨èŠ‚ç‚¹<code>args</code> > <code>biz_type</code> çš„å–å€¼ä¸º <code>item</code>, è€Œå¹¿å‘Šç­‰å•†å“å–å€¼ä¸º<code>ad</code>, <code>Bagtag</code>, <code>èšåˆå¡ç‰‡</code></strong>, é‚£ä¹ˆæ¥ä¸‹æ¥è¦åšçš„äº‹å°±å¾ˆæ˜ç¡®äº†, <strong>è§£æè¿™ä¸ªå­—ç¬¦ä¸², å¦‚æœå‘ç°æ˜¯å¹¿å‘Šå•†å“åˆ™ä»æ•°æ®ä¸­åˆ é™¤è¿™æ¡æ•°æ®</strong>, ä¿®æ”¹å¯¹<code>setBytedate</code>çš„<code>Hook</code>ä»£ç å¦‚ä¸‹</p><pre><code>...
protected void beforeHookedMethod(MethodHookParam param) throws Throwable {
    if (null == param.args[0] || ((byte[]) param.args[0]).length == 0) {
        return;
    }
    String content = new String((byte[]) param.args[0]);
    JSONObject jsonContent = new JSONObject(content);
    JSONObject jsonData = jsonContent.optJSONObject(&quot;data&quot;);
    if (null == jsonData || !jsonData.has(&quot;resultList&quot;)) {
        return;
    }
    JSONArray resultList = jsonData.getJSONArray(&quot;resultList&quot;);
    List&lt;String&gt; filterList = Arrays.asList(&quot;ad&quot;, &quot;Bagtag&quot;, &quot;èšåˆå¡ç‰‡&quot;);
    for (int i = 0; i &lt; resultList.length(); i++) {
        JSONObject listItem = resultList.getJSONObject(i);
        String bizType = listItem.getJSONObject(&quot;data&quot;).getJSONObject(&quot;item&quot;)
            .getJSONObject(&quot;main&quot;).getJSONObject(&quot;clickParam&quot;).getJSONObject(&quot;args&quot;)
            .getString(&quot;biz_type&quot;);
        if (filterList.contains(bizType)) {
            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.KITKAT) {
                resultList.remove(i);
                i--;
            }
        }
    }
    param.args[0] = jsonContent.toString().getBytes();
}
...
</code></pre><p>ä¸Šè¿°ä»£ç é¦–å…ˆå°†<code>byte</code>æ•°ç»„è½¬æ¢ä¸º<code>json</code>å¯¹è±¡, ç„¶åéå†æ‰€æœ‰å•†å“, å°†æ‰¾åˆ°çš„å¹¿å‘Šå•†å“ç§»é™¤, å†å°†å¤„ç†è¿‡åçš„å­—ç¬¦ä¸²é‡æ–°è½¬æ¢ä¸º<code>byte</code>æ•°ç»„, æœ€åèµ‹å€¼ç»™åŸå§‹å‚æ•°, è¿™æ ·å½“æŸé±¼å®é™…ä»£ç <code>setBytedata</code>å¾—åˆ°çš„å‚æ•°å°†ä¼šæ˜¯æˆ‘ä¿®æ”¹åçš„å‚æ•°. ç¼–è¯‘éªŒè¯åå¯ä»¥çœ‹åˆ°å¹¿å‘Šå·²ç»ä¸ä¼šå†æ˜¾ç¤ºäº†</p><p><figure style=flex-grow:56;flex-basis:136px><a href=/posts/hack/xfish/noadresult.jpg data-size=529x933><img src=/posts/hack/xfish/noadresult.jpg srcset="/posts/hack/xfish/noadresult_hufb7fc091ad8dd52f3bb83e2bc584be96_75816_480x0_resize_q75_box.jpg 480w, /posts/hack/xfish/noadresult_hufb7fc091ad8dd52f3bb83e2bc584be96_75816_1024x0_resize_q75_box.jpg 1024w" width=529 height=933 loading=lazy alt=å“‡å¡></a><figcaption>å“‡å¡</figcaption></figure></p><h2 id=ç¦ç”¨æ¼äººçš„å‡çº§å¼¹çª—>ç¦ç”¨æ¼äººçš„å‡çº§å¼¹çª—</h2><p><strong>ç”±äºæœ¬äººä¸çˆ±æ›´æ–°, ä¸”ç ´è§£åå¦‚æœæ›´æ–°ç‰ˆæœ¬, å¯èƒ½å¯¼è‡´ç ´è§£å¤±æ•ˆ, æ‰€ä»¥å¿…é¡»ç¦ç”¨æ›´æ–°</strong></p><p>é¦–å…ˆæ ¹æ®å¼¹çª—æ–‡å­—æœç´¢ä»£ç </p><p><figure style=flex-grow:128;flex-basis:309px><a href=/posts/hack/xfish/updateprop.jpg data-size=487x378><img src=/posts/hack/xfish/updateprop.jpg srcset="/posts/hack/xfish/updateprop_huc83cba95d5fbda156357bc25e87590dc_41270_480x0_resize_q75_box.jpg 480w, /posts/hack/xfish/updateprop_huc83cba95d5fbda156357bc25e87590dc_41270_1024x0_resize_q75_box.jpg 1024w" width=487 height=378 loading=lazy alt=æ›´æ–°å¼¹çª—></a><figcaption>æ›´æ–°å¼¹çª—</figcaption></figure></p><p>å‘ç°ä»…æœ‰ä¸€å¤„, ä½äº<code>BaseUpgradeHandler</code>ç±»çš„<code>onUpgradeNeed()</code>æ–¹æ³•</p><p><figure style=flex-grow:136;flex-basis:327px><a href=/posts/hack/xfish/updatecode.jpg data-size=609x446><img src=/posts/hack/xfish/updatecode.jpg srcset="/posts/hack/xfish/updatecode_hue08c2e2c8268d22c9b70d5b029bd39b2_29411_480x0_resize_q75_box.jpg 480w, /posts/hack/xfish/updatecode_hue08c2e2c8268d22c9b70d5b029bd39b2_29411_1024x0_resize_q75_box.jpg 1024w" width=609 height=446 loading=lazy alt=æ›´æ–°ä»£ç ></a><figcaption>æ›´æ–°ä»£ç </figcaption></figure></p><p>è·Ÿè¸ªæ–¹æ³•è°ƒç”¨, åœ¨<code>com.é©¬èµ›å…‹.é©¬èµ›å…‹fish.upgrade.traceable.Upgrade</code>ç±»çš„<code>c</code>æ–¹æ³•ä¸­è¢«è°ƒç”¨, è€Œ<code>c</code>åˆ™è¢«<code>b</code>è°ƒç”¨</p><p><figure style=flex-grow:189;flex-basis:454px><a href=/posts/hack/xfish/updatecall1.jpg data-size=705x372><img src=/posts/hack/xfish/updatecall1.jpg srcset="/posts/hack/xfish/updatecall1_hu44c789f25140b4297b45caa6517061ba_31907_480x0_resize_q75_box.jpg 480w, /posts/hack/xfish/updatecall1_hu44c789f25140b4297b45caa6517061ba_31907_1024x0_resize_q75_box.jpg 1024w" width=705 height=372 loading=lazy alt=æ›´æ–°1></a><figcaption>æ›´æ–°1</figcaption></figure></p><p><figure style=flex-grow:290;flex-basis:696px><a href=/posts/hack/xfish/updatecall2.jpg data-size=708x244><img src=/posts/hack/xfish/updatecall2.jpg srcset="/posts/hack/xfish/updatecall2_hu8b4e53f6efc16eee43e3c0879d76ef38_23057_480x0_resize_q75_box.jpg 480w, /posts/hack/xfish/updatecall2_hu8b4e53f6efc16eee43e3c0879d76ef38_23057_1024x0_resize_q75_box.jpg 1024w" width=708 height=244 loading=lazy alt=æ›´æ–°2></a><figcaption>æ›´æ–°2</figcaption></figure></p><p>é‡ç‚¹ä»£ç æ‘˜è¦å¦‚ä¸‹:</p><pre><code>private void c(final UpgradeHandler handler) {
    if (handler != null) {
        ...           
        handler.onUpgradeNeed(info, tracer);
        ...
    }
}
</code></pre><p><code>c</code>ä¸­çš„ä»£ç çš„çªç ´ç‚¹åœ¨äº, <strong>å¦‚æœä¼ å…¥çš„<code>handler</code>ä¸ä¸º<code>null</code>, æ‰ä¼šæ‰§è¡Œæ›´æ–°æ£€æµ‹å¹¶å¼¹çª—çš„æ–¹æ³•</strong>, é‚£ä¹ˆæˆ‘åªéœ€è¦è®©ä¼ å…¥çš„<code>handler</code>ä¸º<code>null</code>å°±å¯ä»¥äº†. åœ¨<code>Xposed</code>æ¨¡å—ä¸­å¯¹<code>Upgrade</code>ç±»çš„<code>b</code>æ–¹æ³•<code>Hook</code>, å°†å…¥å‚è®¾ç½®ä¸º<code>null</code></p><pre><code>findAndHookMethod(&quot;com.é©¬èµ›å…‹.é©¬èµ›å…‹fish.upgrade.traceable.Upgrade&quot;,loadPackageParam.classLoader,
    &quot;b&quot;,
    &quot;com.é©¬èµ›å…‹.é©¬èµ›å…‹fish.upgrade.traceable.UpgradeHandler&quot;,
    new XC_MethodHook() {
        @Override
        protected void beforeHookedMethod(MethodHookParam param) throws Throwable {
            //è¿™é‡Œå°†å…¥å‚è®¾ç½®ä¸ºnull
            param.args[0] = null;
        }
    }
);
</code></pre><p>é‡æ–°è¿›è¡Œæµ‹è¯•, <strong>ä¸€åˆ‡æ­£å¸¸ä¸”å¯åŠ¨ä¹‹åä¸å†æœ‰æ›´æ–°å¼¹çª—äº†</strong></p></section><footer class=article-footer><section class=article-tags><a href=/tags/hack/>Hack</a>
<a href=/tags/android/>Android</a>
<a href=/tags/xposed/>Xposed</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><footer class=site-footer><section class=copyright>&copy;
2021 Acgnu+</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=2.3.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous defer></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const customFont=document.createElement('link');customFont.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap";customFont.type="text/css";customFont.rel="stylesheet";document.head.appendChild(customFont);}());</script></body></html>